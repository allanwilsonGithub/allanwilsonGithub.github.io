Javascript notes:

Arrays:
.map       returns a new array with each value replaced by the result of your function
.splice    deletes x items from a certain point